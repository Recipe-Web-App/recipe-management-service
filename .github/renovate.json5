{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:best-practices", ":dependencyDashboard", ":semanticCommits"],
  timezone: "US/Eastern",
  schedule: ["before 10am on Monday"],
  assignees: ["jsamuelsen11"],
  prConcurrentLimit: 100,
  prHourlyLimit: 20,
  rebaseWhen: "auto",
  labels: ["dependencies"],
  platformAutomerge: true,
  dependencyDashboard: true,
  dependencyDashboardTitle: "Dependency Dashboard",
  dependencyDashboardOSVVulnerabilitySummary: "all",
  vulnerabilityAlerts: {
    enabled: true,
    labels: ["security", "dependencies"],
    schedule: ["at any time"],
  },
  minimumReleaseAge: "3 days",
  packageRules: [
    {
      description: "Group Maven patch updates",
      matchManagers: ["maven"],
      matchUpdateTypes: ["patch"],
      groupName: "maven-patch-updates",
      labels: ["dependencies", "java"],
      commitMessagePrefix: "deps:",
      automerge: true,
      automergeType: "pr",
      automergeStrategy: "squash",
    },
    {
      description: "Group Maven minor updates",
      matchManagers: ["maven"],
      matchUpdateTypes: ["minor"],
      groupName: "maven-minor-updates",
      labels: ["dependencies", "java"],
      commitMessagePrefix: "deps:",
      automerge: false,
    },
    {
      description: "Major Maven updates require manual review",
      matchManagers: ["maven"],
      matchUpdateTypes: ["major"],
      labels: ["dependencies", "java", "major-update"],
      commitMessagePrefix: "deps:",
      automerge: false,
      prBodyNotes: [
        ":warning: **Major version update** - This PR requires manual review before merging.",
      ],
    },
    {
      description: "Development dependencies use deps-dev prefix",
      matchManagers: ["maven"],
      matchDepTypes: ["test"],
      commitMessagePrefix: "deps-dev:",
    },
    {
      description: "Ignore major Spring Boot updates",
      matchManagers: ["maven"],
      matchUpdateTypes: ["major"],
      enabled: false,
      matchPackageNames: ["/^org\\.springframework\\.boot:/"],
    },
    {
      description: "Ignore major Spring Framework updates",
      matchManagers: ["maven"],
      matchUpdateTypes: ["major"],
      enabled: false,
      matchPackageNames: ["/^org\\.springframework:/"],
    },
    {
      matchManagers: ["maven"],
      rangeStrategy: "bump",
    },
    {
      description: "Group all GitHub Actions updates",
      matchManagers: ["github-actions"],
      groupName: "github-actions",
      labels: ["dependencies", "github-actions"],
      commitMessagePrefix: "ci:",
      automerge: true,
      automergeType: "pr",
      automergeStrategy: "squash",
    },
    {
      description: "Docker base image updates",
      matchManagers: ["dockerfile"],
      labels: ["dependencies", "docker"],
      commitMessagePrefix: "docker:",
    },
    {
      description: "Auto-merge Docker patch updates",
      matchManagers: ["dockerfile"],
      matchUpdateTypes: ["patch"],
      automerge: true,
      automergeType: "pr",
      automergeStrategy: "squash",
    },
    {
      groupName: "testcontainers",
      matchPackageNames: ["/^org\\.testcontainers:/"],
    },
    {
      groupName: "spring-cloud",
      matchPackageNames: ["/^org\\.springframework\\.cloud:/"],
    },
    {
      groupName: "resilience4j",
      matchPackageNames: ["/^io\\.github\\.resilience4j:/"],
    },
    {
      groupName: "code-generation",
      matchPackageNames: ["/^org\\.mapstruct:/", "/^org\\.projectlombok:/"],
    },
    {
      groupName: "jackson",
      matchPackageNames: ["/^com\\.fasterxml\\.jackson/"],
    },
  ],
  postUpgradeTasks: {
    commands: ["mvn spotless:apply -B -q || true"],
    fileFilters: ["**/*.java", "pom.xml"],
    executionMode: "branch",
  },
}
